(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a166"],{"1afc":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Polls"},[a("Navbar"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-2"},[a("Sidebar",{attrs:{signedIn:t.signedIn,info:t.info}})],1),a("div",{staticClass:"col-md-10"},[a("div",{staticClass:"col-md-12 col-xs-12"},[t.getUser.user.is_faculty?a("button",{staticClass:"btn btn-primary mb-5 mt-2 float-right",attrs:{"data-toggle":"modal","data-target":"#"+t.addModalId}},[t._v("\n              Add Polls\n          ")]):t._e(),a("h2",{staticClass:"m-2 "},[t._v("Polls")])]),a("br"),a("br"),a("center",[t.loadingPolls?a("span",{staticClass:"ld ld-ring ld-spin text-primary mt-10",staticStyle:{"font-size":"64px"}}):t._e()]),a("div",{staticClass:"col-md-12"},[a("AddPollModal",{attrs:{addModalId:t.addModalId,init:t.init}}),t._l(t.polls,function(e){return a("PollCard",{key:e.id,staticClass:"col-md-12 my-2 col-sm-12",attrs:{poll:e,init:t.init,showDelete:!0}})})],2),a("br"),a("br"),a("br")],1)])],1)},n=[],i=(a("96cf"),a("3040")),l=a("c93e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:t.addModalId,tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v(t._s(t.title))]),t._m(0)]),a("div",{staticClass:"modal-body"},[a("form",[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-form-label",attrs:{for:"message-text"}},[t._v("Subject:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"form-control",attrs:{id:"message-text",rows:"5"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}),t.errPoll?a("span",{staticClass:"text-danger text-center"},[t._v("Please enter the Poll subject.")]):t._e()]),a("div",{staticClass:"options-div"})])]),a("div",{staticClass:"modal-footer"},[a("div",{staticClass:"mr-auto"},[a("button",{staticClass:"btn btn-warning mr-1",attrs:{type:"button"},on:{click:t.addOption}},[t._v("Add Option")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.removeOption}},[t._v("Remove Option")])]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.validateAddPoll}},[t._v("\n                Add Poll "),t.loadingPoll?a("span",{staticClass:"ld ld-ring ld-spin"}):t._e()])])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],c=a("2f62"),d=a("d722"),u={name:"AddPollsModal",computed:Object(c["b"])(["getToken","getCourse"]),data:function(){return{title:"Add Poll",content:"",errPoll:!1,loadingPoll:!1,option:1}},props:{addModalId:String,init:Function},methods:{addPol:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a,s,n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loadingPoll=!0,t.next=3,Object(d["g"])(this.getToken.token,this.getCourse.info.id,this.content);case 3:if(e=t.sent,200!=e.status){t.next=21;break}a=this.getOptions(),s=e.data.id,n=0;case 8:if(!(n<a.length)){t.next=17;break}if(i=a[n].value,""==i){t.next=14;break}return t.next=13,Object(d["h"])(this.getToken.token,s,i);case 13:t.sent;case 14:n++,t.next=8;break;case 17:$("#".concat(this.addModalId)).modal("hide"),this.init(),t.next=23;break;case 21:console.log(e),this.errPoll=!0;case 23:this.loadingPoll=!1;case 24:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),validateAddPoll:function(){0!=this.content.length?(this.errPoll=!1,this.addPol()):this.errPoll=!0},addOption:function(){var t="<div id='option-"+this.option+"'>";t+='<label for="message-text" class="col-form-label">Option '+this.option+":</label>",t+='<input class="form-control" name="option"/>',t+="</div>",this.option+=1,$(".options-div").append(t)},removeOption:function(){1!=this.option&&(this.option-=1,$("#option-"+this.option).remove())},getOptions:function(){return $(".options-div :input")}}},m=u,f=a("2877"),v=Object(f["a"])(m,o,r,!1,null,null,null);v.options.__file="AddPollModal.vue";var p=v.exports,b=a("ffcd"),h=a("5ea5"),g=a("d178"),C=a("74c9"),_={name:"Polls",components:{Navbar:g["a"],Sidebar:h["a"],AddPollModal:p,PollCard:b["a"],BackButton:C["a"]},props:{signedIn:Object,info:Object},computed:Object(l["a"])({addModalId:function(){return"addPolls"}},Object(c["b"])(["getToken","getCourse","getUser"])),data:function(){return{polls:[],loadingPolls:!1}},methods:{init:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loadingPolls=!0,t.next=3,Object(d["x"])(this.getToken.token,this.getCourse.info.id);case 3:e=t.sent,this.loadingPolls=!1,200==e.status?this.polls=e.data:console.log(e);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},mounted:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.init();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},k=_,P=Object(f["a"])(k,s,n,!1,null,null,null);P.options.__file="Polls.vue";e["default"]=P.exports},"5ea5":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Sidebar"},[a("div",{staticClass:"wrapper"},[a("nav",{staticClass:"col-md-2 d-none d-md-block bg-light sidebar",attrs:{id:"sidebar"}},[a("div",{staticClass:"sidebar-sticky"},[a("ul",{staticClass:"nav flex-column"},[a("li",{staticClass:"nav-item active"}),a("li",{staticClass:"nav-item"},[a("router-link",{attrs:{to:{name:"dashboard"}}},[a("a",{staticClass:"nav-link",attrs:{href:"#"}},[t._v("Dashboard")])])],1),a("li",{staticClass:"nav-item"},[a("router-link",{attrs:{to:{name:"lectures"}}},[a("a",{staticClass:"nav-link",attrs:{href:"#"}},[t._v("Lectures")])])],1),a("li",{staticClass:"nav-item"},[a("router-link",{attrs:{to:{name:"resources"}}},[a("a",{staticClass:"nav-link",attrs:{href:"#"}},[t._v("Resources")])])],1),a("li",{staticClass:"nav-item"},[a("router-link",{attrs:{to:{name:"assignments"}}},[a("a",{staticClass:"nav-link",attrs:{href:"#"}},[t._v("Assignments")])])],1),a("li",{staticClass:"nav-item"},[a("router-link",{attrs:{to:{name:"announcements"}}},[a("a",{staticClass:"nav-link",attrs:{href:"#"}},[t._v("Announcements")])])],1),a("li",{staticClass:"nav-item"},[a("router-link",{attrs:{to:{name:"polls"}}},[a("a",{staticClass:"nav-link",attrs:{href:"#"}},[t._v("Polls")])])],1),a("li",{staticClass:"nav-item"},[a("router-link",{attrs:{to:{name:"storagedocs"}}},[a("a",{staticClass:"nav-link",attrs:{href:"#"}},[t._v("Storage")])])],1)]),t._m(0),a("ul",{staticClass:"nav flex-column mb-2"},[a("li",{staticClass:"nav-item"},[a("router-link",{attrs:{to:{name:"classinfo"}}},[a("a",{staticClass:"nav-link",attrs:{href:"#"}},[t._v("Class Info")])])],1),t._m(1)])])])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h6",{staticClass:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},[a("span",[t._v("Quick Links")]),a("a",{staticClass:"d-flex align-items-center text-muted",attrs:{href:"#"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"#"}},[t._v("\n                      Submissions\n                  ")])])}],i={name:"Sidebar",props:{signedIn:Object,info:Object},mounted:function(){}},l=i,o=(a("774f"),a("2877")),r=Object(o["a"])(l,s,n,!1,null,"53ba8af8",null);r.options.__file="Sidebar.vue";e["a"]=r.exports},"74c9":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("button",{staticClass:"btn btn-primary",on:{click:t.goBack}},[a("i",{staticClass:"fa fa-angle-left",attrs:{"aria-hidden":"true"}})])])},n=[],i=a("41cb"),l={name:"BackButton",methods:{goBack:function(){i["a"].go(-1)}}},o=l,r=a("2877"),c=Object(r["a"])(o,s,n,!1,null,null,null);c.options.__file="BackButton.vue";e["a"]=c.exports},"774f":function(t,e,a){"use strict";var s=a("cb47"),n=a.n(s);n.a},a322:function(t,e,a){"use strict";function s(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}a.d(e,"a",function(){return s})},c93e:function(t,e,a){"use strict";a.d(e,"a",function(){return n});var s=a("a322");function n(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},n=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),n.forEach(function(e){Object(s["a"])(t,e,a[e])})}return t}},cb47:function(t,e,a){},ffcd:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"infoCard"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("p",{staticClass:"card-text",staticStyle:{cursor:"pointer"},on:{click:t.goToPoll}},[t._v("\n          "+t._s(t.poll.poll_text)+"\n        ")]),a("footer",{staticClass:"blockquote-footer"},[t._v("\n          Asked by "),a("cite",{attrs:{title:"Source Title"}},[t._v(t._s(t.poll.creater.username))]),t.getUser.user.is_faculty&&t.showDelete?a("a",{staticStyle:{cursor:"pointer",float:"right"},on:{click:t.showPollDeleteModal}},[a("i",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}})]):t._e(),a("span",{staticStyle:{float:"right"}},[t._v(t._s(t.getDateString)+" ")]),a("br")])])])]),a("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog",id:t.poll.id}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),t._m(1),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("\n              Close\n            ")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.deletePol}},[t._v("\n              Delete "),t.loadingDelete?a("span",{staticClass:"ld ld-ring ld-spin"}):t._e()])])])])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v("Delete")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-body"},[a("p",[t._v("Are you sure you want to delete this poll?")])])}],i=(a("96cf"),a("3040")),l=a("c93e"),o=a("41cb"),r=a("2f62"),c=a("d722"),d={name:"PollCard",props:{poll:Object,init:Function,showDelete:Boolean},data:function(){return{loadingDelete:!1}},computed:Object(l["a"])({getPollID:function(){return"#"+this.poll.id},getDateString:function(){return moment(this.poll.created_at).format("Do MMMM YYYY,  hh:mm a")}},Object(r["b"])(["getToken","getCourse","getUser","getPoll"])),methods:{deletePol:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loadingDelete=!0,t.next=3,Object(c["l"])(this.getToken.token,this.poll.id);case 3:e=t.sent,this.loadingDelete=!1,200==e.status?($(this.getPollID).modal("hide"),this.init()):console.log(e);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),goToPoll:function(){var t=this.poll;this.$store.commit({type:"setPoll",poll:t}),o["a"].push("viewPoll")},showPollDeleteModal:function(){$(this.getPollID).modal("show")}}},u=d,m=a("2877"),f=Object(m["a"])(u,s,n,!1,null,null,null);f.options.__file="PollCard.vue";e["a"]=f.exports}}]);
//# sourceMappingURL=chunk-a166.8957b609.js.map